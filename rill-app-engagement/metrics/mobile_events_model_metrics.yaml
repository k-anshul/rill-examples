# Metrics view YAML
# Reference documentation: https://docs.rilldata.com/reference/project-files/dashboards
# This file was generated using AI.

version: 1
type: metrics_view

title: Mobile Events Model Metrics
model: mobile_events_model
timeseries: event_time

smallest_time_grain: "hour"

dimensions:
  - display_name: New vs Existing
    expression: new_existing
    description: "New vs. Returning"
  - display_name: "Referral Source"
    expression: "referral_source"
    description: "User Referral Source"
  - display_name: "Country"
    expression: "country"
    description: "Device Location"
  - display_name: "Device Make"
    expression: "device_make"
    description: "Device Make"
  - display_name: "Network"
    expression: "network"
    description: "Connection Type"
  - display_name: "App Version"
    expression: "app_version"
    description: "Internal App Version"
  - display_name: "Advertiser Name"
    expression: "advertiser_name"
    description: "Advertiser Name"

measures:
  - display_name: Page Views
    expression: sum(landing_page_view_cnt)
    name: total_records
    description: Total Page Visits
    format_preset: humanize
  - display_name: "Page Click"
    expression: "sum(landing_page_click_cnt)"
    name: measure
    description: "Total Page Clicks"
    format_preset: humanize
  - display_name: "Site Conversion Rate"
    expression: "sum(landing_page_click_cnt)*1.0/sum(landing_page_view_cnt)*1.0"
    name: measure_1
    description: "Site Conversion"
    format_preset: percentage
  - display_name: "Download Count"
    expression: "sum(download_cnt)"
    name: measure_2
    description: "Total Downloads"
    format_preset: humanize
  - display_name: "Sign Up Count"
    expression: "sum(sign_up_cnt)"
    name: measure_3
    description: "Total Sign-ups"
    format_preset: humanize
  - display_name: "Opt-in Rate"
    expression: "sum(sign_up_cnt)*1.0/sum(download_cnt)*1.0"
    name: measure_4
    description: "Opt-in Rate"
    format_preset: percentage
  - display_name: "Unique Visitors"
    expression: "count (distinct landing_page_view_id)"
    name: measure_5
    description: "Unique Visitors"
    format_preset: humanize
  - display_name: "Unique Downloads"
    expression: "count (distinct download_id)"
    name: measure_6
    description: "Unique Downloads"
    format_preset: humanize
  - display_name: "Completion Rate"
    expression: "count (distinct download_id)*1.0/count (distinct
      landing_page_view_id) *1.0"
    name: measure_7
    description: "Completion Rate"
    format_preset: percentage